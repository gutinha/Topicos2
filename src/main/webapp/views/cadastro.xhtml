<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1993/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Cadastro Usuário</title>
	<meta charset="utf-8"></meta>
</h:head>
<h:body>
	<ui:composition template="./template.xhtml">
		<ui:define name="conteudo">
			<h:form>
				<div class="login-container">
					<p:growl id="growl" showDetail="true" />
					<p:messages id="messages" showDetail="true">
						<p:autoUpdate />
					</p:messages>
					<center>
						<p:panel header="Cadastro" style="margin-top:150px;width:550px;">
							<h:panelGroup>
								<div class="p-col-12 p-md-4">
									<p:selectOneRadio id="tipo-pessoa" required="true"
										value="#{cadastroController.pessoaJuridica}"
										unselectable="true" style="margin-top: 0.7em;">
										<f:selectItem itemLabel="Pessoa Física" itemValue="false" />
										<f:selectItem itemLabel="Pessoa Jurídica" itemValue="true" />
										<p:ajax listener="#{cadastroController.limpar}"
											process="@this" update="@form" />
									</p:selectOneRadio>
								</div>
							</h:panelGroup>
							<div class="p-grid ui-fluid">
								<h:panelGrid columns="2">
									<p:outputLabel value="Nome: "
										rendered="#{cadastroController.pessoaJuridica == false}" />
									<h:panelGroup
										rendered="#{cadastroController.pessoaJuridica == false}">
										<div class="p-col-12 p-md-4"
											rendered="#{cadastroController.pessoaJuridica == false}">
											<div class="ui-inputgroup">
												<p:inputText value="#{cadastroController.entity.nome}"
													rendered="#{cadastroController.pessoaJuridica == false}" />
												<p:commandButton icon="pi pi-search"
													styleClass="ui-button-warning"
													actionListener="#{cadastroController.abrirUsuarioListing}"
													rendered="#{cadastroController.pessoaJuridica == false}" >
													<p:ajax event="dialogReturn"
														listener="#{cadastroController.obterUsuarioListing}"
														update="@form" />
												</p:commandButton>
											</div>
										</div>
									</h:panelGroup>
									<p:outputLabel value="Sobrenome: "
										rendered="#{cadastroController.pessoaJuridica == false}" />
									<p:inputText value="#{cadastroController.entity.sobrenome}"
										rendered="#{cadastroController.pessoaJuridica == false}" />
									<p:outputLabel value="Nome Fantasia:"
										rendered="#{cadastroController.pessoaJuridica == true}" />
									<p:inputText value="#{cadastroController.entity.nomeFantasia}"
										rendered="#{cadastroController.pessoaJuridica == true}" />
									<p:outputLabel value="CNPJ: "
										rendered="#{cadastroController.pessoaJuridica == true}" />
									<p:inputText value="#{cadastroController.entity.cnpj}"
										rendered="#{cadastroController.pessoaJuridica == true}" />
									<p:outputLabel value="CPF: "
										rendered="#{cadastroController.pessoaJuridica == false}" />
									<p:inputText value="#{cadastroController.entity.cpf}"
										rendered="#{cadastroController.pessoaJuridica == false}" />
									<p:outputLabel value="Email: " />
									<p:inputText value="#{cadastroController.entity.email}" />
									<p:outputLabel value="Telefone: " />
									<p:inputText value="#{cadastroController.entity.telefone}" />
									<p:outputLabel value="Senha: " />
									<p:password id="toggle"
										value="#{cadastroController.entity.senha}" toggleMask="true"
										redisplay="true" />
								</h:panelGrid>
							</div>
							<f:facet name="footer">
								<center>
									<p:commandButton value="Incluir"
										style="margin-left:10px;margin-right:10px;"
										actionListener="#{cadastroController.incluir}" update="@form"
										process="@form"
										disabled="#{usuarioController.entity.id != null}" />
									<p:commandButton value="Alterar"
										style="margin-left:10px;margin-right:10px;"
										actionListener="#{cadastroController.alterar}" update="@form"
										process="@form"
										disabled="#{cadastroController.entity.id == null}" />
									<p:commandButton value="Excluir" styleClass="ui-button-danger"
										icon="pi pi-times" style="margin-left:10px;margin-right:10px;"
										actionListener="#{cadastroController.excluir}" process="@this"
										update="@form"
										disabled="#{cadastroController.entity.id == null}">
										<p:confirm header="Confirmação"
											message="Deseja realmente excluir?" icon="pi pi-info-circle" />
									</p:commandButton>
									<p:commandButton value="Limpar"
										style="margin-left:10px;margin-right:10px;"
										actionListener="#{cadastroController.limpar}" update="@form"
										process="@this" />
								</center>
							</f:facet>
						</p:panel>
					</center>
				</div>
				<div></div>
			</h:form>

			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade"
				responsive="true" width="350">
				<p:commandButton value="Não" type="button"
					styleClass="ui-confirmdialog-no ui-button-flat" />
				<p:commandButton value="Sim" type="button"
					styleClass="ui-confirmdialog-yes" />
			</p:confirmDialog>

		</ui:define>
	</ui:composition>

</h:body>

</html>